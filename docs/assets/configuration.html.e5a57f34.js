import{_ as s,r as t,o as i,c as r,a as o,b as c,F as l,d as n,e}from"./app.9a3d8db1.js";const d={},p=n('<h1 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration" aria-hidden="true">#</a> Configuration</h1><p>Repeating the global options each time the <code>scrt</code> command is invoked can be verbose. Also, some options \u2014 like the store password \u2014 shouldn&#39;t be used on the command line on a shared computer, to avoid security issues.</p><p>To prevent this, scrt can be configured with a configuration file or using environment variables.</p><p><code>scrt</code> configuration settings follow an order of precedence. Each item takes precedence over the item below it:</p><ul><li>command-line flags</li><li>environment variables</li><li>configuration file</li></ul><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Configuration options can be considered to be chosen from &quot;most explicit&quot; (flags) to &quot;least explicit&quot; (configuration file).</p></div><h2 id="configuration-file" tabindex="-1"><a class="header-anchor" href="#configuration-file" aria-hidden="true">#</a> Configuration file</h2>',7),u=e("The "),h=o("code",null,"scrt",-1),f=e(" configuration file is a "),m={href:"https://yaml.org/",target:"_blank",rel:"noopener noreferrer"},g=e("YAML"),b=e(" file with the configuration options as keys."),v=n(`<p>Example:</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">storage</span><span class="token punctuation">:</span> local
<span class="token key atrule">password</span><span class="token punctuation">:</span> p4ssw0rd
<span class="token key atrule">local</span><span class="token punctuation">:</span>
  <span class="token key atrule">path</span><span class="token punctuation">:</span> store.scrt
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>If the <code>--config</code> option is given to the command line, <code>scrt</code> will try to load the configuration from a file at the given path. Otherwise, it looks for any file named <code>.scrt</code>, <code>.scrt.yml</code> or <code>.scrt.yaml</code> in the current working directory, then recursively in the parent directory up to the root of the filesystem. If such a file is found, its values are loaded as configuration.</p><p>This can be useful in configuring the location of a store for a project. By adding a <code>.scrt</code> file at the root of the project repository. <code>scrt</code> can then be used in CI and other DevOps tools.</p><div class="custom-container danger"><p class="custom-container-title">DANGER</p><p>Don&#39;t add the password to a configuration file in a shared git repository!</p></div><p>Storage type (<code>storage</code>) can be ignored in a configuration file. <code>scrt</code> will read the configuration under the key for the storage type (e.g. <code>local:</code>). <em>Defining configurations for multiple storage types in a single file will result in undefined behavior.</em></p><h2 id="environment-variables" tabindex="-1"><a class="header-anchor" href="#environment-variables" aria-hidden="true">#</a> Environment variables</h2><p>Each global option has an environment variable counterpart. Environment variables use the same name as the configuration option, in uppercase letters, prefixed with <code>SCRT_</code>.</p><ul><li><code>storage</code> \u21D2 <code>SCRT_STORAGE</code></li><li><code>password</code> \u21D2 <code>SCRT_PASSWORD</code></li><li><code>local-path</code> \u21D2 <code>SCRT_LOCAL_PATH</code></li></ul><p>To configure a default store on your system, add the following to your <code>.bashrc</code> file (if using <code>bash</code>):</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">SCRT_STORAGE</span><span class="token operator">=</span>local
<span class="token builtin class-name">export</span> <span class="token assign-left variable">SCRT_PASSWORD</span><span class="token operator">=</span>p4ssw0rd
<span class="token builtin class-name">export</span> <span class="token assign-left variable">SCRT_LOCAL_PATH</span><span class="token operator">=~</span>/.scrt/store.scrt
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Refer to your shell interpreter&#39;s documentation to set environment variables if you don&#39;t use <code>bash</code> (<code>zsh</code>, <code>dash</code>, <code>tcsh</code>, etc.)</p></div>`,12);function _(k,y){const a=t("ExternalLinkIcon");return i(),r(l,null,[p,o("p",null,[u,h,f,o("a",m,[g,c(a)]),b]),v],64)}var T=s(d,[["render",_],["__file","configuration.html.vue"]]);export{T as default};
